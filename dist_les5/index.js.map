{"version":3,"file":"index.js","mappings":"mBAAA,MAsBA,EAtBiBA,KACf,MAAMC,EAAWC,IACfC,aAAaC,QAAQ,UAAWC,KAAKC,UAAUJ,GAAS,EAiB1D,OAJKC,aAAaI,QAAQ,YACxBN,EAAQ,IAGH,CAAEO,QAdOA,IACAH,KAAKI,MACkB,aAAnCN,aAAaI,QAAQ,WACjB,oBACAJ,aAAaI,QAAQ,YAUXN,UAAS,EChB7B,IAAIS,EAAM,GAEV,SAASC,EAAUC,GACjB,MAAM,QAAEJ,EAAO,QAAEP,GAAYD,IAC7BU,EAAME,EACNX,EAAQW,GACRC,EAASL,IACX,CAEA,SAASM,IACUC,SAASC,cAAc,eAC7BC,YAAc,UAAUP,EAAIQ,QACzC,CCZA,SAASC,IACP,IAAIC,EAAYL,SAASM,uBAAuB,aAChDC,MAAMC,KAAKH,GAAWI,SAAQ,CAACC,EAAMC,KACnCD,EAAKE,iBAAiB,SAAS,KAC7BjB,EAAIkB,OAAOF,EAAO,GAClBf,EAAUD,GACVI,IACAD,EAASH,EAAI,GACb,IAGJ,IAAImB,EAAOd,SAASe,eAAe,SAC/BC,EAAQhB,SAASe,eAAe,aAChCE,EAAQjB,SAASM,uBAAuB,WAE5C,IAAK,IAAII,KAAQO,EACfP,EAAKE,iBAAiB,aAAa,SAAUM,GAC3C,IAAIC,EAAWD,EAAEE,cACjBC,QAAQC,IAAIJ,EAAEK,UAAY,QAC1BF,QAAQC,IAAIH,EAAW,QACvBE,QAAQC,IAAIJ,EAAEM,YAEdR,EAAMJ,iBAAiB,YAAY,SAAUM,GAC3CA,EAAEO,iBACFJ,QAAQC,IAAI,iBACd,IACAN,EAAMJ,iBAAiB,QAAQ,WAC7BI,EAAMU,YAAYP,EACpB,IACAL,EAAKF,iBAAiB,YAAY,SAAUM,GAC1CG,QAAQC,IAAI,iBACZJ,EAAEO,gBACJ,IACAX,EAAKF,iBAAiB,QAAQ,WAC5BS,QAAQC,IAAI,aAEZR,EAAKY,YAAYP,EAEnB,GACF,GAEJ,CC1CA,SAASrB,EAASH,GAChB,IAAIgC,EAAQ3B,SAASe,eAAe,SAChCa,EAAK,GACT,IAAK,IAAIjB,EAAQ,EAAGA,EAAQhB,EAAIQ,OAAQQ,IACtCiB,GAAM,gFAC8BjB,EAAQ,iGAEdhB,EAAIgB,GAAOkB,2GAK3CF,EAAMJ,UAAYK,EAElBxB,GACF,CCXA0B,OAAOlB,iBAAiB,QAAQ,MCFhC,WACE,IAAImB,EAAU/B,SAASe,eAAe,WACtC,MAAM,QAAEtB,GAAYR,IAEpBa,EAASL,KAETsC,EAAQC,MAAMC,QAAU,MAC1B,CDJEC,GAEA,IAAIC,EAAMnC,SAASe,eAAe,OAC9BqB,EAAQpC,SAASe,eAAe,SACpCoB,EAAIvB,iBAAiB,SAAS,KAC5B,IACIyB,EAAO,CACTR,KAFc7B,SAASe,eAAe,aAEtBuB,OAEdC,EEhBWC,KACjB,IAAIC,EAAMC,OAAOF,GAGjB,OAFAnB,QAAQC,IAAImB,GAEM,GAAdA,EAAItC,QACNkB,QAAQC,IAAI,+BAEL,+BACyC,GAAvCmB,EAAIE,WAAW,SAAU,IAAIxC,QACtCkB,QAAQC,IAAI,qCACL,qCACyC,GAAvCmB,EAAIE,WAAW,SAAU,IAAIxC,QACtCkB,QAAQC,IAAI,kDAEL,kDAGF,EAAE,EFDSsB,CAAUP,EAAKR,MAAMgB,OACrCT,EAAMU,UAAY,GACM,GAApBP,EAAUpC,QAIdR,EAAIoD,KAAKV,GACTzC,EAAUD,GACVI,KALEqC,EAAMU,UAAYP,CAKH,GACjB,G","sources":["webpack:///./les5/src/saveLocalStorage.js","webpack:///./les5/src/data.js","webpack:///./les5/src/delete.js","webpack:///./les5/src/drawTasks.js","webpack:///./les5/src/index.js","webpack:///./les5/src/loading.js","webpack:///./les5/src/checkTask.js"],"sourcesContent":["const saveTask = () => {\n  const setTask = (arrTask) => {\n    localStorage.setItem(\"arrTask\", JSON.stringify(arrTask));\n  };\n\n  const getTask = () => {\n    const tasks = JSON.parse(\n      localStorage.getItem(\"arrTask\") == \"undefined\"\n        ? \"[{\\\"text\\\":\\\"text\\\"}]\"\n        : localStorage.getItem(\"arrTask\"),\n    );\n    return tasks;\n  };\n\n  // Инициализация localStorage при первом запуске\n  if (!localStorage.getItem(\"arrTask\")) {\n    setTask([]);\n  }\n\n  return { getTask, setTask };\n};\n\nexport default saveTask;\n","import { drawElem } from \"./drawTasks.js\";\nimport saveTask from \"./saveLocalStorage.js\";\n\nlet arr = [];\n\nfunction updateArr(arrNew) {\n  const { getTask, setTask } = saveTask();\n  arr = arrNew;\n  setTask(arrNew);\n  drawElem(getTask());\n}\n\nfunction updateLenghtArr() {\n  let addedTasks = document.querySelector(\".addedTasks\");\n  addedTasks.textContent = `Tasks: ${arr.length}`;\n}\nexport { arr, updateArr, updateLenghtArr };\n","import { arr, updateArr, updateLenghtArr } from \"./data.js\";\nimport { drawElem } from \"./drawTasks.js\";\n\nfunction deleteElem() {\n  let btnDelete = document.getElementsByClassName(\"btnDelete\");\n  Array.from(btnDelete).forEach((elem, index) => {\n    elem.addEventListener(\"click\", () => {\n      arr.splice(index, 1);\n      updateArr(arr);\n      updateLenghtArr();\n      drawElem(arr);\n    });\n  });\n\n  let left = document.getElementById(\"tasks\");\n  let right = document.getElementById(\"mainTasks\");\n  let lists = document.getElementsByClassName(\"task_li\");\n\n  for (let elem of lists) {\n    elem.addEventListener(\"dragstart\", function (e) {\n      let selected = e.currentTarget;\n      console.log(e.innerHTML + \":eee\");\n      console.log(selected + \":ppp\");\n      console.log(e.srcElement);\n\n      right.addEventListener(\"dragover\", function (e) {\n        e.preventDefault();\n        console.log(\"right dragover\");\n      });\n      right.addEventListener(\"drop\", function () {\n        right.appendChild(selected);\n      });\n      left.addEventListener(\"dragover\", function (e) {\n        console.log(\"left dragover\");\n        e.preventDefault();\n      });\n      left.addEventListener(\"drop\", function () {\n        console.log(\"left drop\");\n\n        left.appendChild(selected);\n        // selected = null;\n      });\n    });\n  }\n}\nexport { deleteElem };\n","import { deleteElem } from \"./delete.js\";\n\nfunction drawElem(arr) {\n  let tasks = document.getElementById(\"tasks\");\n  let li = \"\";\n  for (let index = 0; index < arr.length; index++) {\n    li += `<li draggable=\"true\" class=\"task_li\">\n                <p class=\"numberTask\">${index + 1}</p>\n                <input type=\"checkbox\" name=\"\" id=\"\">\n                <p class=\"task\">${arr[index].text}</p>\n                \n                <button class=\"btnDelete\">Delete</button>\n            </li>`;\n  }\n  tasks.innerHTML = li;\n\n  deleteElem();\n}\nexport { drawElem };\n","import \"./index.css\";\nimport { waited } from \"./loading.js\";\nimport { drawElem } from \"./drawTasks.js\";\nimport { updateArr, arr, updateLenghtArr } from \"./data.js\";\nimport { checkTask } from \"./checkTask.js\";\n\nwindow.addEventListener(\"load\", () => {\n  waited();\n\n  let add = document.getElementById(\"add\");\n  let error = document.getElementById(\"error\");\n  add.addEventListener(\"click\", () => {\n    let task_text = document.getElementById(\"task_text\");\n    let data = {\n      text: task_text.value,\n    };\n    let errorText = checkTask(data.text).trim();\n    error.innerText = \"\";\n    if (errorText.length != 0) {\n      error.innerText = errorText;\n      return;\n    }\n    arr.push(data);\n    updateArr(arr);\n    updateLenghtArr();\n  });\n});\n","import { arr } from \"./data.js\";\nimport { drawElem } from \"./drawTasks.js\";\nimport saveTask from \"./saveLocalStorage.js\";\n\nfunction waited() {\n  let loading = document.getElementById(\"loading\");\n  const { getTask } = saveTask();\n\n  drawElem(getTask());\n\n  loading.style.display = \"none\";\n}\nexport { waited };\n","const checkTask = (task) => {\n  let tsk = String(task);\n  console.log(tsk);\n\n  if (tsk.length == 0) {\n    console.log(\"This task must not be empty\");\n\n    return \"This task must not be empty\";\n  } else if (tsk.replaceAll(/[0-9]/g, \"\").length == 0) {\n    console.log(\"This task must not be only number\");\n    return \"This task must not be only number\";\n  } else if (tsk.replaceAll(/[!-/]/g, \"\").length == 0) {\n    console.log(\"This task must not contain only special symbol\");\n\n    return \"This task must not contain only special symbol\";\n  }\n\n  return \"\";\n};\nexport { checkTask };\n"],"names":["saveTask","setTask","arrTask","localStorage","setItem","JSON","stringify","getItem","getTask","parse","arr","updateArr","arrNew","drawElem","updateLenghtArr","document","querySelector","textContent","length","deleteElem","btnDelete","getElementsByClassName","Array","from","forEach","elem","index","addEventListener","splice","left","getElementById","right","lists","e","selected","currentTarget","console","log","innerHTML","srcElement","preventDefault","appendChild","tasks","li","text","window","loading","style","display","waited","add","error","data","value","errorText","task","tsk","String","replaceAll","checkTask","trim","innerText","push"],"sourceRoot":""}